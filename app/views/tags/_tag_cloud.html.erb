<div class="mb-6">
  <label class="block text-sm font-medium text-gray-700 mb-1">Теги</label>
  <%= hidden_field_tag :tag_id, params[:tag_id], data: { filter_target: "tagField" } %>
  <div class="flex flex-wrap gap-2">
    <% @tags.each do |tag| %>
      <% active = params[:tag_id].to_i == tag.id %>
      <%= content_tag :span, tag.name,
          data: { action: "click->filter#toggleTag", filter_target: "tag", tag_id: tag.id },
          class: "inline-block text-sm px-3 py-1 rounded-full transition #{active ? 'bg-indigo-600 text-white' : 'bg-indigo-100 text-indigo-700 hover:bg-indigo-200'}" %>
    <% end %>
  </div>
</div>
