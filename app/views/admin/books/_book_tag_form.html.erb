<% if form.object.present? %>
  <div class="nested-form-wrapper flex" data-new-record="<%= form.object&.new_record? %>">
    <%= form.hidden_field :_destroy %>
    <%= form.select :tag_id, Tag.all.map { |t| [t.name, t.id] },
                             { include_blank: true },
                             class: ["block shadow rounded-md border outline-none px-3 py-2 mt-2 w-full",
                                      {
                                        "border-gray-400 focus:outline-blue-600": form.object.errors[:genre_id].none?,
                                        "border-red-400 focus:outline-red-600": form.object.errors[:genre_id].any?
                                      }
                                    ] %>

    <button
      type="button"
      data-action="nested-form#remove"
      class="ml-2 rounded-md px-3.5 py-2.5 bg-gray-100 hover:bg-gray-50 inline-block font-medium whitespace-nowrap"
    >
      Убрать тег
    </button>
  </div>
<% end %>
